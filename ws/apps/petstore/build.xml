<?xml version="1.0" encoding="UTF-8"?><project name="petstore" default="default" basedir=".">    <description>Builds, tests, and runs the project petstore.</description>    <property name="is.war.module" value="true"/>    <property name="bp.ui.14.jar" value="lib/bp-ui-14.jar" />    <property name="shale.remoting.jar" value="lib/shale-remoting.jar" />    <property name="commons.fileupload.jar" value="lib/commons-fileupload-1.1.jar" />    <property name="commons.io.jar" value="lib/commons-io-1.1.jar" />    <property name="commons.logging.jar" value="lib/commons-logging.jar"/>      <property name="bp.ui.5.jar" value="lib/bp-ui-5.jar" />    <property name="lucene.jar" value="lib/lucene-1.4.3.jar" />    <property name="extra.classpath" value="${lucene.jar}:${bp.ui.5.jar}:${bp.ui.14.jar}:${shale.remoting.jar}:${commons.fileupload.jar}:${commons.io.jar}:${commons.logging.jar}" />    <import file="bp-project.xml" />    <property name="commons.script" value="${commons.script.home}/ajax-commons.js" />     <property name="dojo.zip" value="${dojo.home}/dojo.zip" />      <target name="-post-compile" depends="package-persistence-jar,dojo">        <!-- copy property files into build directory -->        <copy todir="${build.classes.dir}" overwrite="true">            <fileset dir="src/java">                <include name="**/*.properties"/>            </fileset>        </copy>        <mkdir dir="${build.web.dir}/WEB-INF/lib"/>        <copy todir="${build.web.dir}/WEB-INF/lib">            <fileset file="lib/ajax-wrapper-comp.jar"/>            <fileset file="lib/bp-dynamic-text-comp.jar"/>            <fileset file="./build/catalog-persistence.jar"/>            <fileset file="${lucene.jar}"/>            <fileset file="${bp.ui.5.jar}"/>            <fileset file="${bp.ui.14.jar}"/>            <fileset file="${shale.remoting.jar}"/>            <fileset file="${commons.fileupload.jar}"/>            <fileset file="${commons.io.jar}"/>            <fileset file="${commons.logging.jar}"/>        </copy>                    <!-- Copy in the content -->        <copy file="${commons.script}" todir="${build.web.dir}" />        <!-- unzip lucene indexes into the javaee.home/lib directory, if they don't exist -->        <available file="${javaee.home}/lib/petstore" type="dir" property="lucene.index.exists"/>        <antcall target="unzipIndexes"/>    </target>        <target name="dojo" description="Unzips the dojo.zip to the right place">        <mkdir dir="${build.web.dir}"/>        <unzip src="${dojo.zip}" dest="${build.web.dir}" >            <patternset>                <include name="**/dojo.js"/>                <include name="**/iframe_history.html"/>                <include name="**/src/**"/>            </patternset>        </unzip>    </target>        <target name="unzipIndexes" unless="lucene.index.exists">        <unzip src="lib/petstoreIndexes.zip" dest="${javaee.home}/lib" overwrite="true"/>    </target>        <target name="package-persistence-jar" description="Packages the persistence unit">        <mkdir dir="${jar.build.dir}"/>        <!-- Copy in the compiled Classes -->        <copy todir="${jar.build.dir}">            <fileset dir="${build.classes.dir}">            </fileset>        </copy>        <delete file="${jar.build.dir}/com/sun/javaee/blueprints/petstore/model/CatalogFacade.class"/>        <delete file="${jar.build.dir}/com/sun/javaee/blueprints/petstore/model/Customer.class"/>        <delete file="${jar.build.dir}/com/sun/javaee/blueprints/petstore/model/Order.class"/>           <copy todir="${jar.build.dir}/META-INF" file="${web.docbase.dir}/WEB-INF/persistence.xml"/>        <delete file="./build/catalog-persistence.jar"/>        <jar jarfile="./build/catalog-persistence.jar" basedir="${jar.build.dir}" />        <delete dir="${jar.build.dir}"/>    </target>        <target name="setup">        <ant dir="." antfile="setup/setup.xml" target="setup" inheritAll="false" inheritRefs="false"/>    </target>        <target name="unsetup">        <ant dir="." antfile="setup/setup.xml" target="unsetup" inheritAll="false" inheritRefs="false"/>    </target></project>